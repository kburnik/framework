<?phpclass RemoteXhrApiDelegate{  private $api_interface;  private $callback;  public function __construct( $api_interface , $callback )  {    $this->api_interface = $api_interface;    $this->callback = $callback;  }  public function __call( $method, $params )  {    $refMethod = new ReflectionMethod( $this->api_interface , $method );    $refParams = $refMethod->getParameters();    foreach ( $refParams as $i=>$refParam )    {      $out[ $refParam->name ] = $params[$i];    }    return call_user_func_array( $this->callback , array($method,$out) );  }}
